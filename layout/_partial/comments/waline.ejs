<% if (theme.waline.serverURL) { %>
  <div id="waline"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#waline', function() {
      Fluid.utils.createScript('<%= url_join(theme.static_prefix.waline, 'Waline.min.js') %>', function() {
        var options = Object.assign(
          <%- JSON.stringify(theme.waline || {}) %>,
          {
            el: '#waline',
            dark: 'html[data-user-color-scheme="dark"]',
            path: <%= theme.waline.path %>
          }
        )
        new Waline(options);
      });
    });
  </script>
  <style>
    :root {
    /* 字体大小 */
    --waline-font-size: 16px;

    /* 常规颜色 */
    --waline-white: #fff;
    --waline-light-grey: #999;
    --waline-dark-grey: #666;

    /* 主题色 */
    --waline-theme-color: #e9896c;
    --waline-active-color: #ff7a7a;

    /* 布局颜色 */
    --waline-text-color: #444;
    --waline-bgcolor: #ECECEC;
    --waline-bgcolor-light: #f8f8f8;
    --waline-bgcolor-hover: #f0f0f0;
    --waline-border-color: #ddd;
    --waline-disable-bgcolor: #f8f8f8;
    --waline-disable-color: #bbb;
    --waline-code-bgcolor: #282c34;

    /* 特殊颜色 */
    --waline-bq-color: #f0f0f0;

    /* 头像 */
    --waline-avatar-size: 3.25rem;
    --waline-mobile-avatar-size: calc(var(--waline-avatar-size) * 9 / 13);

    /* 徽章 */
    --waline-badge-color: #3498db;
    --waline-badge-font-size: 0.775em;

    /* 信息 */
    --waline-info-bgcolor: #f8f8f8;
    --waline-info-color: #999;
    --waline-info-font-size: 0.625em;

    /* 渲染选择 */
    --waline-border: 1px solid var(--waline-border-color);
    --waline-avatar-radius: 50%;
    --waline-box-shadow: none;
  }
  </style>
  <noscript>Please enable JavaScript to view the comments</noscript>
<% } %>
